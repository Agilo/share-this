!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):e.ShareThis=t()}(this,function(){"use strict";function e(e){var t=e.documentElement.scrollLeft+e.body.scrollLeft,n=e.documentElement.scrollTop+e.body.scrollTop;return{left:t,top:n}}function t(e,t){return v||(v=r(e)),e[v](t)}function n(e,n){for(var o=e;o&&(1!==o.nodeType||!t(o,n));)o=o.parentNode;return o}function o(e,t){var n=e.compareDocumentPosition(t);return!n||(16&n)>0}function r(e){for(var t=["matches","matchesSelector","webkitMatchesSelector","mozMatchesSelector","msMatchesSelector","oMatchesSelector"],n=0;n<t.length;n++){var o=t[n];if("function"==typeof e[o])return o}}function i(e,t){for(var n=0;n<e.length;n++){var o=e[n];if(o.name===t)return o}}function a(e,t){if(t&&"object"===("undefined"==typeof t?"undefined":h(t)))for(var n in t)e[n]=t[n];return e}function c(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function u(e){if(e.isCollapsed)return!0;var t=e.anchorNode.compareDocumentPosition(e.focusNode);return t?(4&t)>0:e.anchorOffset<e.focusOffset}function f(e,t){var n=void 0,o=e.getClientRects();if(t){for(var r=1/0,i=o.length;i--;){var a=o[i];if(a.left>r)break;r=a.left}n=m.call(o,i+1)}else{for(var u=-(1/0),f=0;f<o.length;f++){var l=o[f];if(l.right<u)break;u=l.right}n=m.call(o,0,f)}return{top:Math.min.apply(Math,c(n.map(function(e){return e.top}))),bottom:Math.max.apply(Math,c(n.map(function(e){return e.bottom}))),left:n[0].left,right:n[n.length-1].right}}function l(e,t){var r=e.cloneRange();if(e.collapsed||!t)return r;var i=n(e.startContainer,t);return i?o(i,e.endContainer)||r.setEnd(i,i.childNodes.length):(i=n(e.endContainer,t),i?r.setStart(i,0):r.collapse()),r}function s(t,n,o){var r=o.document,i=r.defaultView.getSelection(),a=u(i),c=f(n,a),l=e(r),s=t.style;a?s.right=r.documentElement.clientWidth-c.right-l.left+"px":s.left=l.left+c.left+"px",s.width=c.right-c.left+"px",s.height=c.bottom-c.top+"px",s.top=c.top+"px",s.position="absolute",t.className=o.popoverClass}function p(e,t){var o=n(t.target,"[data-share-via]");if(o){var r=o.getAttribute("data-share-via"),a=i(e,r);a&&"function"==typeof a.action&&a.action(t,o)}}function d(e){return{createPopover:function(t){var n=e.createElement("div");return n.addEventListener("click",p.bind(null,t)),n},attachPopover:function(t){e.body.appendChild(t)},removePopover:function(e){var t=e.parentNode;t&&t.removeChild(e)}}}var v=void 0,h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},m=Array.prototype.slice,y=function(e,t,n,o){var r=e.shareUrl||e.document.defaultView.location;return"<ul>"+t.map(function(e){return'<li data-share-via="'+e.name+'">'+e.render.call(e,n,o,r)+"</li>"}).join("")+"</ul>"},g=void 0,b=function(e){function t(){var e=v.rangeCount&&v.getRangeAt(0);if(!e)return void o();var t=l(e,i.selector);return t.collapsed?void o():void n(t)}function n(e){if(!h){var t=e.toString(),n=i.transformer(t),o=i.sharers.filter(r.bind(null,n,t));o.length&&(h=m.createPopover(o),h.innerHTML=y(i,o,n,t),s(h,e,i),m.attachPopover(h),"function"==typeof i.onOpen&&i.onOpen(h,n,t))}}function o(){h&&(m.removePopover(h),h=null,"function"==typeof i.onClose&&i.onClose())}function r(e,t,n){return"function"==typeof n.active?n.active(e,t):n.active===g||n.active}var i=(Object.assign||a)({document:document,selector:"body",sharers:[],popoverClass:"share-this-popover",transformer:function(e){return e.trim().replace(/\s+/g," ")}},e||{}),c=!1,u=!1,f=g,p=g,v=g,h=g,m=g;return{init:function(){if(c)return!1;if(p=i.document,f=p.defaultView,!f.getSelection)return console.error("Selection API isn't supported"),!1;var e=p.addEventListener.bind(p);return e("selectionchange",o),e("mouseup",t),e("touchend",t),v=f.getSelection(),m=d(p),c=!0},destroy:function(){if(!c||u)return!1;var e=p.removeEventListener.bind(p);return e("selectionchange",o),e("mouseup",t),e("touchend",t),o(),v=f=p=null,u=!0}}};return b});